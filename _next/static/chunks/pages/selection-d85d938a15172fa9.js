(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[411],{3214:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/selection",function(){return t(4626)}])},4626:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return x}});var i=t(5893),n=t(7294),r=t(5675),c=t.n(r),l=t(1181),a=t(7357),d=t(5861),m=t(308),u=t(1163),o=t(4184),h=t.n(o),p=t(7485),f=t(6154);let g=(0,p.Z)(()=>({container:{display:"flex",flexDirection:"column",alignItems:"center"},card:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"5%",marginLeft:"2%"},selected:{boxShadow:"0 0 0 5px #37A8FA"},image:{width:200,height:200,overflow:"hidden",borderRadius:"50%",display:"flex",justifyContent:"center"},musicians:{display:"flex",flexWrap:"wrap",justifyContent:"space-evenly"}}));function x(){let e=g(),[s,t]=(0,n.useState)([{id:1,name:"Bass Drum",selected:!1,img:"https://server.pickyourdrum.link/files/instruments/BD_pic.png"},{id:2,name:"Snare Drum",selected:!1,img:"https://server.pickyourdrum.link/files/instruments/SD_pic.png"},{id:3,name:"Tenor Drum",selected:!1,img:"https://server.pickyourdrum.link/files/instruments/TD_pic.png"},{id:4,name:"Cymbals",selected:!1,img:"https://server.pickyourdrum.link/files/instruments/Cym_pic.png"},{id:5,name:"BD & Cym",selected:!1,img:"https://server.pickyourdrum.link/files/instruments/BD_Cym_pic.png"}]),[r,o]=(0,n.useState)(!0),[p,x]=(0,n.useState)([]),[y,_]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=async()=>{try{let e=await f.Z.get("https://fryxz3d12d.execute-api.us-east-1.amazonaws.com/production/musicians/navy");x(e.data.musicians),o(!1)}catch(e){console.error("Error fetching data:",e)}};e()},[]);let j=s.filter(e=>e.selected).length===p.filter(e=>e.selected).length;(0,n.useEffect)(()=>{let e=s.filter(e=>e.selected).length,t=p.filter(e=>e.selected).length;_(e>=2&&t>=2)},[s,p]);let v=e=>{let s=p.map(s=>s.user_id===e.user_id?{...s,selected:!e.selected}:s);x(s)},k=e=>{let i=s.map(s=>s.name===e.name?{...s,selected:!e.selected}:s);t(i)},N=(0,u.useRouter)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l.ZP,{container:!0,children:[(0,i.jsx)(l.ZP,{item:!0,xs:12,md:6,children:(0,i.jsxs)(a.Z,{className:h()(e.container),children:[(0,i.jsx)("h2",{children:"Select Musicians"}),(0,i.jsx)("div",{className:h()(e.musicians),children:r?(0,i.jsx)("p",{children:"Loading..."}):(0,i.jsx)(i.Fragment,{children:p.map(s=>(0,i.jsxs)("div",{className:h()(e.card),children:[(0,i.jsx)("div",{className:h()(e.image,{[e.selected]:s.selected}),onClick:()=>v(s),children:(0,i.jsx)(c(),{priority:!0,src:s.image,alt:"select ".concat(s.first_name),width:200,height:280})},s.user_id),(0,i.jsxs)(d.Z,{style:{marginTop:"5%"},children:[s.first_name," ",s.last_name]})]},s.user_id))})})]})}),(0,i.jsx)(l.ZP,{item:!0,xs:12,md:6,children:(0,i.jsxs)(a.Z,{className:h()(e.container),children:[(0,i.jsx)("h2",{children:"Select Instruments"}),(0,i.jsx)("div",{className:h()(e.musicians),children:s.map(s=>(0,i.jsxs)("div",{className:h()(e.card),children:[(0,i.jsx)("div",{className:h()(e.image,{[e.selected]:s.selected}),onClick:()=>k(s),children:(0,i.jsx)(c(),{src:s.img,alt:"select ".concat(s.name),width:200,height:200})},s.name),(0,i.jsx)(d.Z,{style:{marginTop:"5%"},children:s.name})]},s.name))})]})})]}),(0,i.jsx)(m.Z,{variant:"contained",onClick:e=>{e.preventDefault();let t=p.filter(e=>e.selected),i=s.filter(e=>e.selected);N.push({pathname:"/assignments",query:{musicians:JSON.stringify(t),instruments:JSON.stringify(i)}})},disabled:!y||!j,type:"button",children:"Give me assignments!"})]})}}},function(e){e.O(0,[882,512,276,774,888,179],function(){return e(e.s=3214)}),_N_E=e.O()}]);